# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è Books

## üìã –ü–æ—Ä—è–¥–æ–∫ –≤–Ω–µ—Å–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### –®–∞–≥ 1: –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –Ω–∞—Ö–æ–¥–∏—Ç–µ—Å—å –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏:
   ```bash
   cd "C:\Users\sened\Desktop\–û–±—É—á–µ–Ω–∏–µ_GPT_PD\lesson_17_Templates. –†–∞–±–æ—Ç–∞ —Å —à–∞–±–ª–æ–Ω–∞–º–∏"
   ```

3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ Django:
   ```bash
   python manage.py runserver
   ```

4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å—Ç–∏–ª—Å—è —É—Å–ø–µ—à–Ω–æ. –í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ:
   ```
   Starting development server at http://127.0.0.1:8000/
   ```

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –º–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã:
   ```bash
   python manage.py migrate
   ```

2. –ï—Å–ª–∏ –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–µ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
   ```bash
   python manage.py migrate books
   ```

### –®–∞–≥ 3: –°–æ–∑–¥–∞–Ω–∏–µ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–µ—Å–ª–∏ –µ—â—ë –Ω–µ —Å–æ–∑–¥–∞–Ω)

1. –í –Ω–æ–≤–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ (–Ω–µ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—è —Å–µ—Ä–≤–µ—Ä) –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
   ```bash
   python manage.py createsuperuser
   ```

2. –í–≤–µ–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
   - Email: (–Ω–∞–ø—Ä–∏–º–µ—Ä, admin@example.com)
   - Password: (–ø—Ä–∏–¥—É–º–∞–π—Ç–µ –ø–∞—Ä–æ–ª—å)
   - Password (again): (–ø–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–∞—Ä–æ–ª—å)

### –®–∞–≥ 4: –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö

#### –í–∞—Ä–∏–∞–Ω—Ç 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)

1. –û—Ç–∫—Ä–æ–π—Ç–µ –Ω–æ–≤—ã–π —Ç–µ—Ä–º–∏–Ω–∞–ª (—Å–µ—Ä–≤–µ—Ä –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å —Ä–∞–±–æ—Ç–∞—Ç—å)
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ Django Shell:
   ```bash
   python manage.py shell
   ```

3. –í—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞–Ω–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö:

   **–°–ü–û–°–û–ë 1 (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø - —Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π):**
   
   **–í—ã–π–¥–∏—Ç–µ –∏–∑ Django Shell** (–µ—Å–ª–∏ –≤—ã –≤ –Ω—ë–º) –∫–æ–º–∞–Ω–¥–æ–π `exit()` –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:
   ```bash
   python manage.py shell < books/create_test_data.py
   ```
   
   **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:** –ù–µ —Ç—Ä–µ–±—É–µ—Ç –∫–∞–≤—ã—á–µ–∫, —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ä–∞–∑—É!
   
   **–°–ü–û–°–û–ë 2 (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –≤ Django Shell):**
   
   –í Django Shell –≤—ã–ø–æ–ª–Ω–∏—Ç–µ (–æ–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –∫–∞–≤—ã—á–∫–∏ –≤–æ–∫—Ä—É–≥ –ø—É—Ç–∏):
   ```python
   exec(open('books/create_test_data.py', encoding='utf-8').read())
   ```
   
   **–í–∞–∂–Ω–æ:** 
   - –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ **–æ–¥–∏–Ω–∞—Ä–Ω—ã—Ö –∫–∞–≤—ã—á–∫–∞—Ö**: `'books/create_test_data.py'`
   - –î–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä `encoding='utf-8'` –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å —Ä—É—Å—Å–∫–∏–º —Ç–µ–∫—Å—Ç–æ–º
   
   **–°–ü–û–°–û–ë 3 (–µ—Å–ª–∏ –∫–∞–≤—ã—á–∫–∏ –Ω–µ –∫–æ–ø–∏—Ä—É—é—Ç—Å—è):**
   
   –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `books/create_test_data.py` –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ, —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–µ—Å—å –∫–æ–¥ (Ctrl+A, Ctrl+C) –∏ –≤—Å—Ç–∞–≤—å—Ç–µ –≤ Django Shell (Ctrl+V).

4. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–∞. –í—ã —É–≤–∏–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ:
   ```
   –¢–ï–°–¢–û–í–´–ï –î–ê–ù–ù–´–ï –£–°–ü–ï–®–ù–û –°–û–ó–î–ê–ù–´!
   ```

#### –í–∞—Ä–∏–∞–Ω—Ç 2: –†—É—á–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å

1. –û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ –∞–¥—Ä–µ—Å—É:
   ```
   http://127.0.0.1:8000/admin/
   ```

2. –í–æ–π–¥–∏—Ç–µ —Å —É—á—ë—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

3. –°–æ–∑–¥–∞–π—Ç–µ –∏–∑–¥–∞—Ç–µ–ª—å—Å—Ç–≤–∞ (Publisher):
   - –ù–∞–∂–º–∏—Ç–µ "–ò–∑–¥–∞—Ç–µ–ª—å—Å—Ç–≤–∞" ‚Üí "–î–æ–±–∞–≤–∏—Ç—å –∏–∑–¥–∞—Ç–µ–ª—å—Å—Ç–≤–æ"
   - –°–æ–∑–¥–∞–π—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –∏–∑–¥–∞—Ç–µ–ª—å—Å—Ç–≤–∞:
     - –ù–∞–∑–≤–∞–Ω–∏–µ: "–≠–∫—Å–º–æ", –°—Ç—Ä–∞–Ω–∞: "–†–æ—Å—Å–∏—è"
     - –ù–∞–∑–≤–∞–Ω–∏–µ: "–ê–°–¢", –°—Ç—Ä–∞–Ω–∞: "–†–æ—Å—Å–∏—è"
     - –ù–∞–∑–≤–∞–Ω–∏–µ: "–ü–∏—Ç–µ—Ä", –°—Ç—Ä–∞–Ω–∞: "–†–æ—Å—Å–∏—è"
     - –ù–∞–∑–≤–∞–Ω–∏–µ: "Penguin", –°—Ç—Ä–∞–Ω–∞: "–í–µ–ª–∏–∫–æ–±—Ä–∏—Ç–∞–Ω–∏—è"
     - –ù–∞–∑–≤–∞–Ω–∏–µ: "HarperCollins", –°—Ç—Ä–∞–Ω–∞: "–°–®–ê"

4. –°–æ–∑–¥–∞–π—Ç–µ –º–∞–≥–∞–∑–∏–Ω—ã (Store):
   - –ù–∞–∂–º–∏—Ç–µ "–ú–∞–≥–∞–∑–∏–Ω—ã" ‚Üí "–î–æ–±–∞–≤–∏—Ç—å –º–∞–≥–∞–∑–∏–Ω"
   - –°–æ–∑–¥–∞–π—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –º–∞–≥–∞–∑–∏–Ω—ã:
     - –ù–∞–∑–≤–∞–Ω–∏–µ: "–ß–∏—Ç–∞–π-–≥–æ—Ä–æ–¥", –ì–æ—Ä–æ–¥: "–ú–æ—Å–∫–≤–∞"
     - –ù–∞–∑–≤–∞–Ω–∏–µ: "–ß–∏—Ç–∞–π-–≥–æ—Ä–æ–¥", –ì–æ—Ä–æ–¥: "–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥"
     - –ù–∞–∑–≤–∞–Ω–∏–µ: "–ë—É–∫–≤–æ–µ–¥", –ì–æ—Ä–æ–¥: "–ú–æ—Å–∫–≤–∞"
     - –ù–∞–∑–≤–∞–Ω–∏–µ: "–ë—É–∫–≤–æ–µ–¥", –ì–æ—Ä–æ–¥: "–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥"
     - –ù–∞–∑–≤–∞–Ω–∏–µ: "–õ–∞–±–∏—Ä–∏–Ω—Ç", –ì–æ—Ä–æ–¥: "–ú–æ—Å–∫–≤–∞"
     - –ù–∞–∑–≤–∞–Ω–∏–µ: "–ú–æ—Å–∫–æ–≤—Å–∫–∏–π –î–æ–º –ö–Ω–∏–≥–∏", –ì–æ—Ä–æ–¥: "–ú–æ—Å–∫–≤–∞"

5. –°–æ–∑–¥–∞–π—Ç–µ –∫–Ω–∏–≥–∏ (Book):
   - –ù–∞–∂–º–∏—Ç–µ "–ö–Ω–∏–≥–∏" ‚Üí "–î–æ–±–∞–≤–∏—Ç—å –∫–Ω–∏–≥—É"
   - –î–ª—è –∫–∞–∂–¥–æ–π –∫–Ω–∏–≥–∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ:
     - –ù–∞–∑–≤–∞–Ω–∏–µ –∫–Ω–∏–≥–∏
     - –ê–≤—Ç–æ—Ä
     - –î–∞—Ç–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
     - –û–ø–∏—Å–∞–Ω–∏–µ
     - –ò–∑–¥–∞—Ç–µ–ª—å—Å—Ç–≤–æ (–≤—ã–±–µ—Ä–∏—Ç–µ –∏–∑ —Å–ø–∏—Å–∫–∞)
     - –ú–∞–≥–∞–∑–∏–Ω—ã (–≤—ã–±–µ—Ä–∏—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∞–≥–∞–∑–∏–Ω–æ–≤)
   - –ü—Ä–∏–º–µ—Ä—ã –∫–Ω–∏–≥:
     - "–í–æ–π–Ω–∞ –∏ –º–∏—Ä" - –õ–µ–≤ –¢–æ–ª—Å—Ç–æ–π (1869) - –≠–∫—Å–º–æ
     - "–ü—Ä–µ—Å—Ç—É–ø–ª–µ–Ω–∏–µ –∏ –Ω–∞–∫–∞–∑–∞–Ω–∏–µ" - –§—ë–¥–æ—Ä –î–æ—Å—Ç–æ–µ–≤—Å–∫–∏–π (1866) - –ê–°–¢
     - "1984" - –î–∂–æ—Ä–¥–∂ –û—Ä—É—ç–ª–ª (1949) - Penguin
     - "–ú–∞—Å—Ç–µ—Ä –∏ –ú–∞—Ä–≥–∞—Ä–∏—Ç–∞" - –ú–∏—Ö–∞–∏–ª –ë—É–ª–≥–∞–∫–æ–≤ (1967) - –ê–°–¢
     - "–ê–Ω–Ω–∞ –ö–∞—Ä–µ–Ω–∏–Ω–∞" - –õ–µ–≤ –¢–æ–ª—Å—Ç–æ–π (1877) - –≠–∫—Å–º–æ
     - –ò –¥—Ä—É–≥–∏–µ (—Å–º. —Ñ–∞–π–ª create_test_data.py)

6. –°–æ–∑–¥–∞–π—Ç–µ –æ—Ç–∑—ã–≤—ã (Review):
   - –ù–∞–∂–º–∏—Ç–µ "–û—Ç–∑—ã–≤—ã" ‚Üí "–î–æ–±–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤"
   - –î–ª—è –∫–∞–∂–¥–æ–≥–æ –æ—Ç–∑—ã–≤–∞ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ:
     - –ö–Ω–∏–≥–∞ (–≤—ã–±–µ—Ä–∏—Ç–µ –∏–∑ —Å–ø–∏—Å–∫–∞)
     - –û—Ü–µ–Ω–∫–∞ (–æ—Ç 1 –¥–æ 5)
     - –¢–µ–∫—Å—Ç –æ—Ç–∑—ã–≤–∞
   - –°–æ–∑–¥–∞–π—Ç–µ –ø–æ 2-3 –æ—Ç–∑—ã–≤–∞ –¥–ª—è –∫–∞–∂–¥–æ–π –∫–Ω–∏–≥–∏

#### –í–∞—Ä–∏–∞–Ω—Ç 3: –°–æ–∑–¥–∞–Ω–∏–µ —á–µ—Ä–µ–∑ Django Shell –≤—Ä—É—á–Ω—É—é

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ Django Shell:
   ```bash
   python manage.py shell
   ```

2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã –ø–æ –æ–±—Ä–∞–∑—Ü—É:
   ```python
   from books.models import Publisher, Store, Book, Review
   from datetime import date

   # –°–æ–∑–¥–∞–Ω–∏–µ –∏–∑–¥–∞—Ç–µ–ª—å—Å—Ç–≤–∞
   publisher = Publisher.objects.create(name='–≠–∫—Å–º–æ', country='–†–æ—Å—Å–∏—è')

   # –°–æ–∑–¥–∞–Ω–∏–µ –º–∞–≥–∞–∑–∏–Ω–∞
   store = Store.objects.create(name='–ß–∏—Ç–∞–π-–≥–æ—Ä–æ–¥', city='–ú–æ—Å–∫–≤–∞')

   # –°–æ–∑–¥–∞–Ω–∏–µ –∫–Ω–∏–≥–∏
   book = Book.objects.create(
       title='–í–æ–π–Ω–∞ –∏ –º–∏—Ä',
       author='–õ–µ–≤ –¢–æ–ª—Å—Ç–æ–π',
       published_date=date(1869, 1, 1),
       description='–†–æ–º–∞–Ω-—ç–ø–æ–ø–µ—è',
       publisher=publisher
   )
   book.stores.add(store)

   # –°–æ–∑–¥–∞–Ω–∏–µ –æ—Ç–∑—ã–≤–∞
   Review.objects.create(
       book=book,
       rating=5,
       text='–û—Ç–ª–∏—á–Ω–∞—è –∫–Ω–∏–≥–∞!'
   )
   ```

### –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

1. –û—Ç–∫—Ä–æ–π—Ç–µ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å: http://127.0.0.1:8000/admin/
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑–¥–µ–ª—ã:
   - –ò–∑–¥–∞—Ç–µ–ª—å—Å—Ç–≤–∞ - –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å 5 –∑–∞–ø–∏—Å–µ–π
   - –ú–∞–≥–∞–∑–∏–Ω—ã - –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å 6 –∑–∞–ø–∏—Å–µ–π
   - –ö–Ω–∏–≥–∏ - –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å 10 –∑–∞–ø–∏—Å–µ–π
   - –û—Ç–∑—ã–≤—ã - –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ–∫–æ–ª–æ 25 –∑–∞–ø–∏—Å–µ–π

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–≤—è–∑–∏:
   - –û—Ç–∫—Ä–æ–π—Ç–µ –ª—é–±—É—é –∫–Ω–∏–≥—É –∏ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã–±—Ä–∞–Ω—ã –∏–∑–¥–∞—Ç–µ–ª—å—Å—Ç–≤–æ –∏ –º–∞–≥–∞–∑–∏–Ω—ã
   - –û—Ç–∫—Ä–æ–π—Ç–µ –ª—é–±–æ–π –º–∞–≥–∞–∑–∏–Ω –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–Ω–∏–≥
   - –û—Ç–∫—Ä–æ–π—Ç–µ –ª—é–±—É—é –∫–Ω–∏–≥—É –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ –æ—Ç–∑—ã–≤–æ–≤

### –®–∞–≥ 6: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤

1. –û—Ç–∫—Ä–æ–π—Ç–µ Django Shell:
   ```bash
   python manage.py shell
   ```

2. –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤:
   ```python
   from books.queries import *
   ```

3. –í—ã–ø–æ–ª–Ω–∏—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã:
   ```python
   # –ó–∞–ø—Ä–æ—Å 1: –ö–Ω–∏–≥–∏ –∏–∑–¥–∞—Ç–µ–ª—å—Å—Ç–≤ –∏–∑ –†–æ—Å—Å–∏–∏
   print_books_by_publisher_country('–†–æ—Å—Å–∏—è')

   # –ó–∞–ø—Ä–æ—Å 2: –ö–Ω–∏–≥–∏ –≤ –º–∞–≥–∞–∑–∏–Ω–∞—Ö –ú–æ—Å–∫–≤—ã
   print_books_by_store_city('–ú–æ—Å–∫–≤–∞')

   # –ó–∞–ø—Ä–æ—Å 3: –ö–Ω–∏–≥–∏ —Å–æ —Å—Ä–µ–¥–Ω–µ–π –æ—Ü–µ–Ω–∫–æ–π –≤—ã—à–µ 4.5
   print_books_with_avg_rating_above(4.5)

   # –ó–∞–ø—Ä–æ—Å 4: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–Ω–∏–≥ –≤ –∫–∞–∂–¥–æ–º –º–∞–≥–∞–∑–∏–Ω–µ
   print_store_books_count()

   # –ó–∞–ø—Ä–æ—Å 5: –ú–∞–≥–∞–∑–∏–Ω—ã —Å –∫–Ω–∏–≥–∞–º–∏ –ø–æ—Å–ª–µ 2010 –≥–æ–¥–∞
   from datetime import date
   print_stores_with_books_after_date(date(2010, 1, 1))

   # –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
   demonstrate_optimization()
   ```

## üìä –û–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### –ò–∑–¥–∞—Ç–µ–ª—å—Å—Ç–≤–∞ (5 —à—Ç—É–∫)
- –≠–∫—Å–º–æ (–†–æ—Å—Å–∏—è)
- –ê–°–¢ (–†–æ—Å—Å–∏—è)
- –ü–∏—Ç–µ—Ä (–†–æ—Å—Å–∏—è)
- Penguin (–í–µ–ª–∏–∫–æ–±—Ä–∏—Ç–∞–Ω–∏—è)
- HarperCollins (–°–®–ê)

### –ú–∞–≥–∞–∑–∏–Ω—ã (6 —à—Ç—É–∫)
- –ß–∏—Ç–∞–π-–≥–æ—Ä–æ–¥ (–ú–æ—Å–∫–≤–∞)
- –ß–∏—Ç–∞–π-–≥–æ—Ä–æ–¥ (–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥)
- –ë—É–∫–≤–æ–µ–¥ (–ú–æ—Å–∫–≤–∞)
- –ë—É–∫–≤–æ–µ–¥ (–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥)
- –õ–∞–±–∏—Ä–∏–Ω—Ç (–ú–æ—Å–∫–≤–∞)
- –ú–æ—Å–∫–æ–≤—Å–∫–∏–π –î–æ–º –ö–Ω–∏–≥–∏ (–ú–æ—Å–∫–≤–∞)

### –ö–Ω–∏–≥–∏ (10 —à—Ç—É–∫)
1. –í–æ–π–Ω–∞ –∏ –º–∏—Ä - –õ–µ–≤ –¢–æ–ª—Å—Ç–æ–π (1869) - –≠–∫—Å–º–æ
2. –ü—Ä–µ—Å—Ç—É–ø–ª–µ–Ω–∏–µ –∏ –Ω–∞–∫–∞–∑–∞–Ω–∏–µ - –§—ë–¥–æ—Ä –î–æ—Å—Ç–æ–µ–≤—Å–∫–∏–π (1866) - –ê–°–¢
3. 1984 - –î–∂–æ—Ä–¥–∂ –û—Ä—É—ç–ª–ª (1949) - Penguin
4. –ú–∞—Å—Ç–µ—Ä –∏ –ú–∞—Ä–≥–∞—Ä–∏—Ç–∞ - –ú–∏—Ö–∞–∏–ª –ë—É–ª–≥–∞–∫–æ–≤ (1967) - –ê–°–¢
5. –ê–Ω–Ω–∞ –ö–∞—Ä–µ–Ω–∏–Ω–∞ - –õ–µ–≤ –¢–æ–ª—Å—Ç–æ–π (1877) - –≠–∫—Å–º–æ
6. –ò–¥–∏–æ—Ç - –§—ë–¥–æ—Ä –î–æ—Å—Ç–æ–µ–≤—Å–∫–∏–π (1869) - –ü–∏—Ç–µ—Ä
7. –°–∫–æ—Ç–Ω—ã–π –¥–≤–æ—Ä - –î–∂–æ—Ä–¥–∂ –û—Ä—É—ç–ª–ª (1945) - Penguin
8. –ì–∞—Ä—Ä–∏ –ü–æ—Ç—Ç–µ—Ä –∏ —Ñ–∏–ª–æ—Å–æ—Ñ—Å–∫–∏–π –∫–∞–º–µ–Ω—å - –î–∂–æ–∞–Ω –†–æ—É–ª–∏–Ω–≥ (1997) - HarperCollins
9. –í–ª–∞—Å—Ç–µ–ª–∏–Ω –∫–æ–ª–µ—Ü: –ë—Ä–∞—Ç—Å—Ç–≤–æ –ö–æ–ª—å—Ü–∞ - –î–∂.–†.–†. –¢–æ–ª–∫–∏–Ω (1954) - HarperCollins
10. –£–±–∏—Ç—å –ø–µ—Ä–µ—Å–º–µ—à–Ω–∏–∫–∞ - –•–∞—Ä–ø–µ—Ä –õ–∏ (1960) - HarperCollins

### –û—Ç–∑—ã–≤—ã (–æ–∫–æ–ª–æ 25 —à—Ç—É–∫)
- –ü–æ 2-3 –æ—Ç–∑—ã–≤–∞ –Ω–∞ –∫–∞–∂–¥—É—é –∫–Ω–∏–≥—É
- –û—Ü–µ–Ω–∫–∏ –æ—Ç 4 –¥–æ 5
- –†–∞–∑–ª–∏—á–Ω—ã–µ —Ç–µ–∫—Å—Ç—ã –æ—Ç–∑—ã–≤–æ–≤

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–ü–æ—Ä—è–¥–æ–∫ —Å–æ–∑–¥–∞–Ω–∏—è –≤–∞–∂–µ–Ω:**
   - –°–Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞—é—Ç—Å—è –∏–∑–¥–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –∏ –º–∞–≥–∞–∑–∏–Ω—ã
   - –ó–∞—Ç–µ–º —Å–æ–∑–¥–∞—é—Ç—Å—è –∫–Ω–∏–≥–∏ (–æ–Ω–∏ —Å—Å—ã–ª–∞—é—Ç—Å—è –Ω–∞ –∏–∑–¥–∞—Ç–µ–ª—å—Å—Ç–≤–∞)
   - –í –∫–æ–Ω—Ü–µ —Å–æ–∑–¥–∞—é—Ç—Å—è –æ—Ç–∑—ã–≤—ã (–æ–Ω–∏ —Å—Å—ã–ª–∞—é—Ç—Å—è –Ω–∞ –∫–Ω–∏–≥–∏)

2. **–°–≤—è–∑–∏ ManyToMany:**
   - –°–≤—è–∑—å –º–µ–∂–¥—É Book –∏ Store —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –∫–Ω–∏–≥–∏
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ—Ç–æ–¥ `book.stores.add(store1, store2)` –∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ –º–∞–≥–∞–∑–∏–Ω—ã –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏

3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö:**
   - –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∏—Ö –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ —Å–≤—è–∑–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ

4. **–ü–æ–≤—Ç–æ—Ä–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞:**
   - –°–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `get_or_create()`, –ø–æ—ç—Ç–æ–º—É –µ–≥–æ –º–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑
   - –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ –Ω–µ –±—É–¥—É—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å—Å—è

## üîß –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: "No such table: books_publisher"
**–†–µ—à–µ–Ω–∏–µ:** –í—ã–ø–æ–ª–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏:
```bash
python manage.py migrate books
```

### –ü—Ä–æ–±–ª–µ–º–∞: "Cannot add foreign key constraint"
**–†–µ—à–µ–Ω–∏–µ:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞–Ω—ã Publisher –∏ Store, –∞ –∑–∞—Ç–µ–º Book

### –ü—Ä–æ–±–ª–µ–º–∞: "IntegrityError"
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ

## üìù –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- –§–∞–π–ª —Å–∫—Ä–∏–ø—Ç–∞: `books/create_test_data.py`
- –í—Å–µ –º–æ–¥–µ–ª–∏ –æ–ø–∏—Å–∞–Ω—ã –≤ `books/models.py`
- –ó–∞–ø—Ä–æ—Å—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ `books/queries.py`

