{% extends 'books/base.html' %}

{% block title %}{{ page_title }}{% endblock %}

{% block content %}
<h1 class="page-title">{{ page_title }}</h1>

<div class="actions">
    <a href="{% url 'books:publisher_create' %}" class="btn btn-primary">‚ûï –î–æ–±–∞–≤–∏—Ç—å –∏–∑–¥–∞—Ç–µ–ª—å—Å—Ç–≤–æ</a>
</div>

<!-- –ü–æ–∏—Å–∫ -->
{% if publishers %}
    <form method="get" class="search-form" style="margin-bottom: 1.5rem;">
        <input type="text" name="search" placeholder="–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∏–ª–∏ —Å—Ç—Ä–∞–Ω–µ..." 
               value="{{ current_search }}" class="form-control">
        <button type="submit" class="btn btn-primary">üîç –ù–∞–π—Ç–∏</button>
        {% if current_search %}
            <a href="{% url 'books:publisher_list' %}" class="btn btn-secondary">‚úñÔ∏è –°–±—Ä–æ—Å–∏—Ç—å</a>
        {% endif %}
    </form>
{% endif %}

<!-- –°–ø–∏—Å–æ–∫ –∏–∑–¥–∞—Ç–µ–ª—å—Å—Ç–≤ -->
{% if publishers %}
    <div class="list-group">
        {% for publisher in publishers %}
            <div class="list-group-item">
                <div>
                    <h3 style="margin-bottom: 0.5rem;">
                        <a href="{% url 'books:publisher_detail' publisher.pk %}">{{ publisher.name }}</a>
                    </h3>
                    <p style="color: #6c757d; margin-bottom: 0.25rem;">
                        <strong>–°—Ç—Ä–∞–Ω–∞:</strong> {{ publisher.country }}
                    </p>
                    <p style="color: #6c757d;">
                        <strong>–ö–Ω–∏–≥:</strong> {{ publisher.books_count }}
                    </p>
                </div>
                <div class="actions">
                    <a href="{% url 'books:publisher_detail' publisher.pk %}" class="btn btn-primary btn-sm">üëÅÔ∏è –ü—Ä–æ—Å–º–æ—Ç—Ä</a>
                    <a href="{% url 'books:publisher_update' publisher.pk %}" class="btn btn-success btn-sm">‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</a>
                    <a href="{% url 'books:publisher_delete' publisher.pk %}" class="btn btn-danger btn-sm">üóëÔ∏è –£–¥–∞–ª–∏—Ç—å</a>
                </div>
            </div>
        {% endfor %}
    </div>
{% else %}
    <div class="card">
        <p>–ò–∑–¥–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã. <a href="{% url 'books:publisher_create' %}">–°–æ–∑–¥–∞–π—Ç–µ –ø–µ—Ä–≤–æ–µ –∏–∑–¥–∞—Ç–µ–ª—å—Å—Ç–≤–æ</a></p>
    </div>
{% endif %}
{% endblock %}

